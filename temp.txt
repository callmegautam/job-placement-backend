add index in routes



ðŸ“ db
 â””â”€â”€ ðŸ“schema
     â”œâ”€â”€ enums.ts
     â”œâ”€â”€ student.ts
     â”œâ”€â”€ company.ts
     â”œâ”€â”€ job.ts
     â”œâ”€â”€ college.ts
     â””â”€â”€ index.ts



export * from './enums';
export * from './student';
export * from './company';
export * from './job';
export * from './college';



add optionals to update validation in student and company


const id = Number(req.params?.id);
if (isNaN(id)) {
    return res.status(400).json({
        success: false,
        message: 'Valid user id is required',
        data: null,
    });
}


const isEmailOrUsernameTaken = async (email: string, username: string, excludeId?: number) => {
    return await db
        .select()
        .from(student)
        .where(
            or(
                and(eq(student.email, email), sql`${student.id} != ${excludeId}`),
                and(eq(student.username, username), sql`${student.id} != ${excludeId}`)
            )
        );
};


